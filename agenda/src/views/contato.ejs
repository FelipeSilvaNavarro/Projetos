<%- include('includes/head') %> <!-- Inclui o cabeçalho do site -->
<%- include('includes/nav') %> <!-- Inclui a barra de navegação do site -->

<div class="container">
    <div class="row">
        <div class="col-lg-2"></div>
        <div class="col-lg-8 my-3">
            <h1 class="text-center">Contato</h1>
            <p class="text-center lead">Crie ou edite seu contato abaixo</p>
            <%- include('includes/messages') %>
            
            <!-- Verifica se o contato já existe para determinar a URL do formulário -->
            <% if (contato._id) { %>
                <form class="form-edita-contato" action="/contato/edit/<%= contato._id %>" method="post"> <!-- Formulário para edição de contato -->
            <% } else { %>
                <form class="form-novo-contato" action="/contato/register" method="post"> <!-- Formulário para criação de novo contato -->
            <% } %>
                <input type="hidden" name="_csrf" value=<%= csrfToken %>> <!-- Token CSRF para proteção contra ataques CSRF -->
                <!-- Campo para o nome do contato -->
                <div class="form-group">
                    <label>Nome *</label>
                    <input value="<%= contato.nome %>" type="text" class="form-control" name="nome">
                </div>
                
                <!-- Campo para o sobrenome do contato -->
                <div class="form-group">
                    <label>Sobrenome</label>
                    <input value="<%= contato.sobrenome %>" type="text" class="form-control" name="sobrenome">
                </div>
                
                <!-- Campo para o email do contato -->
                <div class="form-group">
                    <label>Email *</label>
                    <input value="<%= contato.email %>" type="email" class="form-control" name="email">
                </div>
                
                <!-- Campo para o telefone do contato -->
                <div class="form-group">
                    <label>Telefone *</label>
                    <input value="<%= contato.telefone %>" type="tel" class="form-control" name="telefone">
                </div>
                
                <!-- Botão para enviar o formulário -->
                <button type="submit" class="btn btn-primary">Salvar</button>
            </form>
        </div>
        <div class="col-lg-2"></div>
    </div>
</div>

<%- include('includes/footer') %> <!-- Inclui o rodapé da página -->
